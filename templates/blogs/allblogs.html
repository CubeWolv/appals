{% extends 'share layouts/base.html' %} {% load static %}

<!--............................header.......................................-->
{% block header %}
<title>blogs</title>
<link rel="stylesheet" href='{% static "css/allblogs/allblogs.css" %}' />
{% endblock header %}
 
{% block content %}
{% if request.user.is_authenticated %}
            {% if request.user == user %}
            <body style="background-color:rgb(231, 231, 231);">
            {% endif %}
            {% endif %} 

<!------------------------------------The navigation vertical-------------------------->
<div class="the-container-for-navigation">
    <form method="get" action="{% url 'search' %}" class="the-form-for-the-search">
        <input type="search" placeholder="Search for any blog" id="theSearchboxVNAv" name="q">
        <input type="submit" value='&#x1F50E;&#xFE0E;' class="the-search-icon">
    </form>
    <a href="/blogs/?q=">Appals</a>
    <a href="/blogs/?q=apps">Apps</a>
    <a href="/blogs/?q=gadgets">Hardware</a>
    <a href="/blogs/?q=security">Security</a>
    <a href="/blogs/?q=crypto">Crypto</a>
    <a href="/blogs/?q=work">Business</a>
    <a href="/blogs/?q=startups">Startups</a>
    <a href="/blogs/?q=media">Media & Entertainment</a>
    <a href="/blogs/?q=market anlysis">Market Analysis</a>
</div>
<style>
    .the-container-for-navigation{
        z-index:5;
    }
</style>
{% if posts %}

<!--the number of posts-->
<center>
<div class="number-of-blogs-container">
    <p>About <b>{{posts|length}}</b> results of <b>{{q|default:"all Blogs"}}</b></p>
    </div>
</center>

<!--..................................The blogs.......................................-->
<div class="containerForAllThePosts">
    {% for post in posts %}
    <!--blog div-->
    
        <div class="The-divs">
            <!--....................the pencil edit........................-->
            {% if request.user.is_authenticated %}
            {% if request.user == user %}
            <a href="{% url 'editpost' post.id %}"> <i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
            {% endif %}
            {% endif %}

            <div class="theContent-inside-the-divs">
                <a href="{% url 'index' post.id post.title %}" class="PostLINK">
                <div class="theTitleContainer">
                    <p> {{post.slug}} </p>
                    <p class="theTitle"> {{post.title}}</p>
                    <p> {{post.author}} </p>
                    <p> {{post.created_on}}</p>
                </div>

                <div class="the-image-div">
                    <img src="{{post.postimage.url}}" alt="{{post.title}}">
                </div>
</a>
            </div>
        </div>
    
    <style>
.PostLINK:hover{
text-decoration: none;
color:grey;
}
    </style>
    {% endfor %}
    
    <!--if no posts found-->
    {% else%}

    <center>
        <div class="no-result-container">
        <p class="no-result-header">Sorry! No results for {{q}}</p>
        <img src="{% static 'images/no-content.png' %}" class="secondImage" />
        </div>
    </center>
     {% endif %}


    <!--//////////////////////////////////////PAGINATION/////////////////////////////-->
    <!-- Other template content -->
    <center>
        <div class="pagination">
            <span class="step-links">
                {% if page_obj.has_previous %}
                <a href="?page=1"><svg class="svg1" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                        <path fill-rule="evenodd"
                            d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                    </svg></a>
                <a href="?page={{ page_obj.previous_page_number }}"><svg class="svg1" xmlns="http://www.w3.org/2000/svg"
                        width="16" height="16" fill="currentColor" class="bi bi-caret-left" viewBox="0 0 16 16">
                        <path
                            d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z" />
                    </svg></a>
                {% endif %}

                <span class="current">
                    {{ page_obj.number }} <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z" />
                    </svg> {{ page_obj.paginator.num_pages }}
                </span>

                {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}"><svg class="svg1" xmlns="http://www.w3.org/2000/svg"
                        width="16" height="16" fill="currentColor" class="bi bi-caret-right" viewBox="0 0 16 16">
                        <path
                            d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z" />
                    </svg></a>
                <a href="?page={{ page_obj.paginator.num_pages }}"><svg class="svg1" xmlns="http://www.w3.org/2000/svg"
                        width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right"
                        viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z" />
                        <path fill-rule="evenodd"
                            d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z" />
                    </svg></a>
                {% endif %}
            </span>
        </div>
    </center>

</div>


<style>
            /*--------------------------------the navigation-----------------..*/
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100&display=swap');

.the-container-for-navigation {
    float: left;
    height: 100%;
    width: 35vh;
    margin-bottom: 50px; 
    position: fixed;
    font-family: "poppins", sans-serif;
    background-color: white;
    z-index: 10;
}

.the-container-for-navigation a {
    color: grey;
    display: block;
    margin-top: 10%;
    margin-left: 25px;
    font-size: 17px;
}

.the-container-for-navigation a:hover {
    color: silver;
    text-decoration: none;
}

/*search*/
.the-form-for-the-search {
    display: flex;
    margin-top: 30px;
    margin-left: 10px;
    border: 1px solid lime;
    width: fit-content;
    border-radius: 5px;
}

#theSearchboxVNAv {
    border-right: none;
    margin-top: 0px;
    margin-left: 0px;
    padding: 10px;
    border: none;
}

.the-search-icon {
    margin-left: -20px;
    padding: 12px;
    border: none;
    background-color: transparent;
    font-size: 20px;
    color: lime;
}

/*the number of posts*/
.number-of-blogs-container {
    margin-top: 5%;
}

.number-of-blogs-container p {
    color: green;
    font-size: 14px;
    font-family: "poppins", sans-serif;
}

/*the no results result*/
.no-result-container {
    margin-bottom: 150px;
    margin-top: 10%;
    width: 50%;
}

.no-result-header {
    color: green;
    font-weight: bold;
    font-size: 20px;
}

.the-search-icon:hover {
    color: orangered
}

#theSearchboxVNAv:focus {
    box-shadow: none !important;
    outline-offset: 0px !important;
    outline: none !important;
}


/*#theSearchboxVNAv:focus {
transition: 0.5s;
border: 1px solid lime !important;
box-shadow: none !important;
outline-offset: 0px !important;
outline: none !important;
}
*/



/*-----------------------------------------the blog divs------------------------------*/
/*link styling*/
.containerForAllThePosts a {
    color: #000000;
}

.containerForAllThePosts {
    width: 60%;
    float: right;
    margin-right: 30px;
    font-family: "poppins", sans-serif;
}

.theContent-inside-the-divs {
    margin-top: 10px;
}

.theFooterContainer {
    clear: both;
}

.The-divs {
    margin: 20px;
    margin-top: 20px;
    border: 1px solid rgb(207, 207, 207);
    width: 90%;
    height: 30dvh;
    border-left: none;
    border-right: none;
    border-bottom: none;
    cursor: pointer;
}

.theTitleContainer {
    height: 100%;
    width: 40%;
    margin-left: 20px;
    margin-top: 10px;
    float: left;
}

.theTitle {
    font-weight: bolder;
    font-size: 16px;
}

/*------------------image section--------------------*/

.the-image-div {
    float: right;
    width: 30%;
    height: 100%;
    margin-right: 10px;
    overflow: hidden;

}

.the-image-div img {
    width: 100%;
    height: fit-content;
}

/*....................................responsive....................................*/
@media(max-width:1115px) {
    .The-divs {
        border: 1px solid rgb(207, 207, 207);
        width: 90%;
        height: 20%;
    }
}

@media(max-width:790px) {
    .containerForAllThePosts {
        width: 68%;
    }

    .The-divs {
        width: 90%;
        overflow: hidden;
    }
}

@media(max-width:690px) {

    /*remove the nav container*/
    .the-container-for-navigation {
        display: none;
    }

    .containerForAllThePosts {
        width: 90%;
    }
}

@media(max-width:600px) {
    .containerForAllThePosts {
        width: 90%;
        float: none
    }

    .The-divs {
        width: 100%;
        height:auto;
    }

    .theTitleContainer {
        height: 100%;
        width: 70%;
        float: float;
    }

    .theTitle {
        font-size: 13px;
    }

    .the-image-div {
        width: 20%;
    }
}

.pagination {
    letter-spacing: 6px;
    font-size: 18px;
}

.pagination .svg1 {
    width: 25px;
    height: 25px;
    color: black;
    border: 1px solid lime;
    border-radius: 5px;
    padding: 5px;
}
</style>


{% endblock %}

